# 功能文档

## 🟢 Release 1 功能

### 基础功能

##### 概述
平台提供用户管理、多语言支持、权限配置等基础功能，保障系统多用户、多租户下的稳定运行体验。

##### 功能列表
- 用户注册 / 登录 / 注销
- OAuth登陆
- MFA：支持双因子认证，增强账户安全性
- 登录地 IP 记录与异常拦截：记录登录来源 IP，检测异常行为
- 系统消息通知机制：上传成功、模型训练完成、数据导出完成等事件将推送系统提示或邮件提醒
- 审计日志：记录登录、登出、数据导入导出、报表访问等行为，支持导出与查询筛选
- 用户分组：支持后台按组织、标签、角色等方式对用户进行分组管理
- 用户信息修改与密码重置
- 多语言界面支持（如中英文切换）
- 主题切换（明亮 / 暗色）
- 用户账户权限与角色配置（RBAC）
- 多租户支持：租户管理员可开通/管理本租户下用户
- 用户账户注销
- 登录历史 / 活动记录查看（审计日志）
- 订阅与计费模块：支持多租户计费计划、套餐额度、订阅管理

### 业务功能

#### 📊 首页概览仪表盘

##### 概述 
系统首页提供统一数据入口，便于用户快速获取关键指标与导航至核心功能模块。

##### 目标用户  
所有用户

##### 功能涉及  
- 最新上传数据摘要（数量、时间、状态）
- 推荐图表快捷访问
- 模型状态提示卡片（训练中 / 已完成 / 上次更新时间）
- 最近使用的图表、报表快捷入口

---

#### 销售数据导入

##### 概述

支持上传 CSV、JSON、Parquet 数据导入销售记录。上传后系统自动执行数据清洗、标准化与建模处理流程，写入数据湖及结构化分析表，用于后续的预测、分析、推荐等模块。

##### 目标用户

运营人员 / 数据管理员

##### 功能涉及

- 拖拽上传文件
- 多格式文件解析与字段映射校验
- 数据落地 AWS S3
- ETL 清洗处理（Bronze → Silver → Gold）
- 分析表保存至 Data Warehouse (PostgreSQL)
- 异常数据告警与状态反馈
- 数据权限隔离（按租户过滤）
- 上传成功后触发系统消息提示（对接通知模块）

---

#### 销售分析报表与图表展示

##### 概述
用户可以上传销售数据后，可以在 `仪表盘页面` 查看 8 类核心图表（总销量、同比变化、热销品类、渠道表现等），并导出报表用于汇报或内部使用。

##### 目标用户
商户 / 分析师

##### 8 大核心报表
1. **销售总览卡片**（销售额、订单数、客户数）
2. **品类销售排行**（Top N 类目销售额）
3. **商品热销榜单**（按销量、销售额排序）
4. **退货率分析**（退货订单占比趋势）
5. **地区销售热力图**（按地区统计销售额）
6. **销售趋势图**（小时/日/月级别趋势折线图）
7. **渠道对比图表**（Web、App、线下等来源销售占比）
8. **客单价与复购率**（平均订单金额、复购人数比例）

##### 功能涉及
- 仪表盘渲染（折线图、饼图、柱状图、热力图）
- 分析表生成后实时更新仪表盘
- 动态仪表盘设置
- 报表导出（PNG、PDF、CSV）
- 图表支持用户交互：柱图点击联动其他图表、时间轴拖动缩放、Hover 提示关键销售事件

---

#### 销售预测

##### 概述
用户可以查看未来 7～30 天的销售额、退货率、热销品类预测，并了解预测依据，提前调整运营与备货计划。

##### 目标用户
分析师 / 运营主管

##### 预测指标
- 总销售额预测（每天/每周）
- 类目热度预测（Top N 类目趋势）
- 退货率预测（按商品或类目维度）
- 关键商品销量预测（可筛选 SKU）

##### 功能涉及
- Prophet + LightGBM 模型融合
- SHAP 特征重要性图生成
- 可视化趋势图与预测误差提示
- 结果导出为图表或表格
- 预测结果支持多版本查看（包含训练时间、精度、使用特征）
- 用户可自定义预测周期（7~90 天）、SKU 粒度
- 自动训练计划提示（展示上次训练时间与预计下次运行时间）

---

#### 推荐系统

##### 概述

系统基于用户行为与商品属性，生成个性化推荐商品列表，用于站内推荐、短信推送或营销活动。

##### 目标用户

商户 / 营销人员 / Copilot 模块

##### 功能涉及

- 协同过滤 + 内容推荐模型融合
- 支持用户输入 Top-K 推荐查询
- 推荐商品展示与导出（ID、标题、图像）
- 与 Copilot 接入统一返回推荐卡片
- 推荐点击率与转化追踪（用于评估模型效果）
- 推荐解释能力（如“因你近期购买了 X”）
- 与 Copilot 联动支持筛选后自动更新推荐（模型闭环）

------

#### 用户分群与价值评估

##### 概述
用户可基于历史行为数据划分客户群体，如高价值客户、沉默用户、潜在流失用户，并导出标签用户列表用于营销活动。

##### 目标用户
市场人员 / CRM 经理

##### 功能涉及
- RFM 模型计算 + KMeans/DBSCAN 聚类
- 用户分布图表 + 客户标签说明
- 客户列表表格筛选导出
- 多维度组合筛选（品类、地区等）

---

#### 商品漏斗转化分析

##### 概述
用户可查看从浏览到成交的每一步转化率（浏览 → 点击 → 加购 → 下单 → 成交），发现转化断层商品，并调整策略。

##### 目标用户
商品运营 / 分析师

##### 功能涉及
- 多步骤转化率计算（按商品、类目、时间段）
- 漏斗图 + 明细表展示（支持导出）
- 异常商品标记（如加购→下单转化率<5%）
- 建议提示（如页面优化、价格调整）

---

#### AI Copilot 操作助手

##### 概述
用户可通过自然语言提问，快速获取图表、KPI 数据、趋势分析及自动化建议。无需懂 SQL 或图表配置。

##### 目标用户
所有平台用户

##### 示例交互
- “上周销售额是多少？”
- “生成最近 30 天热销商品排行榜”
- “加购率低的商品有哪些？”
- “导出复购用户列表”

##### 功能涉及
- GPT 模型语义解析 + 多轮对话支持
- 自动图表生成（折线、柱状、饼图等）
- 数据导出 / 邮件发送
- 图表嵌入页面 / 下载 / 收藏
- 增强语义理解能力，支持多轮上下文记忆（时间范围、筛选条件等）
- 提供运营建议类响应（如“提升转化率建议方案”）、

---

#### 智能搜索引擎

##### 概述
用户可输入关键词或自然语言快速跳转到所需图表、文档或功能模块，支持语义模糊匹配与多语言。

##### 目标用户
所有平台用户

##### 功能涉及
- Weaviate 向量索引 + 文本倒排索引
- 功能图表锚点跳转
- 快速联想词与历史搜索推荐
- 支持自然语言模糊搜索表达

---

#### 报表管理

##### 概述
用户可以查看历史生成的报表，支持批量下载、重命名、删除等操作。

##### 目标用户
所有用户

##### 功能涉及
- 图表截图导出为 PNG
- 表格导出为 CSV / Excel
- 批量导出
- 文件命名自动添加日期与版本号


## 🔜 后续开发功能（规划中）

#### 营销内容生成

##### 概述
用户可生成商品标题、促销文案、社交内容（如推文、朋友圈）并执行 A/B 测试。

##### 目标用户
市场运营

---

#### 智能客服系统

##### 概述
支持自动回复物流/订单/售后问题，并集成 WhatsApp、微信等多平台。

##### 目标用户
客户 / 客服运营

---

#### 动态仪表盘定制

##### 概述
商户 / 分析师

##### 目标用户
用户可拖拽自定义报表布局与图表组合，保存个性化仪表盘界面。

---

#### 多维度交叉分析

##### 概述
分析师

##### 目标用户
通过组合维度（如地区 × 时间 × 品类）生成交互式 Pivot 分析结果。

---

#### 自助服务门户

##### 概述
终端客户

##### 目标用户
支持终端客户通过系统查看订单状态、退货进度等，无需联系人工客服。
